Dev Plan: Veritas Operations DashboardObjective: Build a functional, high-utility internal dashboard to monitor platform health, manage user credits, and track API margins.1. Tech Stack & InfrastructureFramework: Next.js 14+ (App Router).Authentication: Supabase Auth with a custom is_admin claim or a restricted admin_users table check.UI Library: Tailwind CSS + Lucide React (for speed and consistency).Charts: Recharts or Tremor (optimized for dashboards).State Management: SWR or React Query (for real-time API/DB monitoring).2. Core Modules (Phase 1)A. The "Pulse" (Overview)Real-time Metrics: Total Assessments (last 24h), Active Sessions, Total API Spend.Margin Monitor: Calculated Revenue (from credits used) vs. Actual API Costs.B. User & Credit ManagementGlobal User Search: Filter by email, school, or role.Credit Tool: Manual override to add/remove credits for support issues.Impersonation: Ability to "View as Teacher" for debugging specific assessment builds.C. API Usage & DebuggingProvider Breakdown: Track OpenAI (GPT-4o), Google (Gemini 2.5), and Speechace calls.Dual Scorer Logs: View raw JSON outputs of the consensus engine to identify "Hallucination" patterns or scoring drift.D. Support & System HealthError Logs: Capture 429s (Rate limits) or 500s from Speechace.Flagged Assessments: View assessments flagged by the "Pausing Guardrail" for manual integrity review.3. Implementation RoadmapSprint 1: Setup & Data AccessCreate /admin route with a strict middleware.ts guard.Build the AdminSidebar and StatCard components.Connect the Revenue vs. Cost SQL view from Supabase.Sprint 2: User OperationsImplement the searchable User Table.Build the "Manual Credit Adjustment" modal.Add "Assessment History" view per user.Sprint 3: API MonitoringIntegrate Usage APIs from OpenAI and Speechace (or track via your own api_logs table).Build the Consensus Auditorâ€”a tool to see side-by-side LLM outputs for Veritas exams.4. Security Requirements (Admin Only)MFA Required: Admin accounts must have Multi-Factor Authentication enabled.IP Whitelisting: (Optional) Restrict admin dashboard access to specific IP ranges.Audit Logging: Every action taken in the Admin Dashboard (e.g., adding credits) must be logged in an admin_audit_trail table.